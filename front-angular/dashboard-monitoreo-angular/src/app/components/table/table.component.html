<div class="container container-table my-4">
    <div class="create-plant">
        <h5>Plantas</h5>
        <button class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal1">+ Nueva Planta</button>
        <app-modal (plantaEnviada)="agregarPlanta($event)"></app-modal>
    </div>
    <table class="table table-borderless">
        <thead>
            <tr>
                <th scope="col">País</th>
                <th scope="col">Nombre de la planta</th>
                <th scope="col" class="d-none d-md-table-cell">Lecturas</th>
                <th scope="col" class="d-none d-md-table-cell">Alertas Medias</th>
                <th scope="col" class="d-none d-md-table-cell">Alertas Rojas</th>
                <th scope="col" class="d-none d-md-table-cell">Sensores</th>
                <th scope="col" class="d-none d-md-table-cell">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let planta of listPlantas">
                
                <td>
                    <img [src]="planta.bandera" width="30" height="20" />
                    {{ planta.pais }}
                </td>
                <td>{{ planta.nombre }}</td>
                <td class="d-none d-md-table-cell">{{ planta.cantLecturas }}</td>
                <td class="d-none d-md-table-cell">{{ planta.cantSensores }}</td>
                <td class="d-none d-md-table-cell">{{ planta.cantAlertasMedias }}</td>
                <td class="d-none d-md-table-cell">{{ planta.cantAlertasAltas }}</td>
                <td>
                    <div class="dropdown">
                        <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" style="border: none;">
                            <i class="bi bi-three-dots-vertical"></i>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li>
                                <a class="dropdown-item" (click)="editarPlanta(planta)" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#exampleModal2">
                                    <i class="bi bi-dialpad"></i> Editar
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item text-muted" style="cursor: pointer;" (click)="showModal(planta)">
                                    <i class="bi bi-trash"></i> Eliminar
                                </a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>


<!-- modal edit -->
<div class="modal fade" id="exampleModal2" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Editar Planta</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Nombre</label>
                            <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="plantaSeleccionada.nombre" name="nombre">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">País</label>
                            <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="plantaSeleccionada.pais" name="pais" disabled>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Cantidad de lecturas</label>
                            <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="plantaSeleccionada.cantLecturas" name="cantLecturas">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Cantidad de sensores</label>
                            <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="plantaSeleccionada.cantSensores" name="cantSensores">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Alertas medias</label>
                            <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="plantaSeleccionada.cantAlertasMedias" name="cantAlertasMedias">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Alertas rojas</label>
                            <input type="text" class="form-control" placeholder="Ingrese" [(ngModel)]="plantaSeleccionada.cantAlertasAltas" name="cantAlertasAltas">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-cancelar" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-crear" (click)="actualizarPlanta(plantaSeleccionada)">Editar</button>
            </div>
        </div>
    </div>
</div>